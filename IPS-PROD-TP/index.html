<!DOCTYPE html>
<html>
  <head>
    <title>IPS-PROD-TP</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="core/fonts/mono.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/animate.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/cinescript.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/style_core.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/mermaid.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/gitgraph.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/style_ensiie.css"> 
  </head>
  <body>
    <textarea id="source" readonly>
class: titlepage

.title[Introduction to Scientific Programming - TP :notebook:]

.subtitle[`IPS-PROD-TP` - N. Dubray - ENSIIE - 2017]

.row[
`$$\int_{-\infty}^\infty f(x)e^{-x^2} dx \simeq \sum_{i=0}^{n-1}w_if(x_i)$$`
]

.footnote[
[:book:](../toc/index.html)
]

---

layout: true
class: animated fadeIn 

.footnote[
`IPS-PROD-TP` - N. Dubray - ENSIIE - 2017 - [:book:](../toc/index.html)
]

---

# Project rules

.mermaid[
    graph LR
    A("Week #1<br/>Initialization") --> B
    B("Week #2<br/>Project") --> C
    C("Week #3<br/>Project") --> D
    D("Week #4<br/>Project") --> E
    E("Week #5<br/>Project") --> F("Week #6<br/>Presentation")
]

.column.middle.grow[
## Rules:
* a "`AUTHORS`" file **must** be present and contain your name(s)
* the source **must** be written in `C++11`
* the source **must** be documented with `Doxygen`
* the compilation chain **must** use `GNU Make`
* the presentation **must** be at the location "`pres/index.html`"
* using branches is OK but **only master will be checked**
* the presentation **must** use `remark.js`
* mandatory unit tests **must** pass

## :moneybag: Bonuses:
* no warning at {compilation, bindings, tests, doc}
* project is implementing other methods
* source code is well written (comments, easy to read, etc...)
* commits are small and explicit
]

---

# IPS-PROD-TP - Week #1 - Initialization

.mermaid[
    graph LR
    A("Week #1<br/>Initialization") --> B
    B("Week #2<br/>Project") --> C
    C("Week #3<br/>Project") --> D
    D("Week #4<br/>Project") --> E
    E("Week #5<br/>Project") --> F("Week #6<br/>Presentation")
    style A fill:#090 
]

.column.middle.grow[

## 1. Fork your project from IPS-DEV

 * create a new empty project in your gitlab and add files from the previous project
 * or fork your previous project in your gitlab

## 2. Adapt your code to pass the mandatory unit tests

 * change method names
 * adapt object hierarchy
 * change methods arguments
 * ...
]

---

# IPS-PROD-TP - Week #1 - Polynomials

.mermaid[
    graph LR
    A("Week #1<br/>Initialization") --> B
    B("Week #2<br/>Project") --> C
    C("Week #3<br/>Project") --> D
    D("Week #4<br/>Project") --> E
    E("Week #5<br/>Project") --> F("Week #6<br/>Presentation")
    style A fill:#090 
]


.column.middle.grow[
## Hermite polynomials (physicists' version)

`$$
\begin{eqnarray*}
H_0(\zeta)&=&1\\
H_1(\zeta)&=&2\zeta\\
H_{n}(\zeta)&=&2\zeta H_{n-1}(\zeta)-2(n-1)H_{n-2}(\zeta)
\end{eqnarray*}
$$`

## Generalized Laguerre polynomials

`$$
\begin{eqnarray*}
L^{m}_0(\eta)&=&1\\
L^{m}_1(\eta)&=&1+m-\eta\\
L^{m}_{n}(\eta)&=&\left(2+\frac{m-1-\eta}{n}\right)L^{m}_{n-1}(\eta)-\left(1+\frac{m-1}{n}\right)L^{m}_{n-2}(\eta)
\end{eqnarray*}
$$`
]

---

# IPS-PROD-TP - Week #1 - Mandatory unit tests

.mermaid[
    graph LR
    A("Week #1<br/>Initialization") --> B
    B("Week #2<br/>Project") --> C
    C("Week #3<br/>Project") --> D
    D("Week #4<br/>Project") --> E
    E("Week #5<br/>Project") --> F("Week #6<br/>Presentation")
    style A fill:#090 
]

.column.middle.grow[
```C++
// Mandatory test #00

Poly poly();
poly.calcHermite(6);     // compute Hermite polynomials for n in {0 ... 5}
poly.calcLaguerre(6, 4); // compute generalized Laguerre polynomials for m in {0 ... 5} and n in {0 ... 3}

arma::vec zVals, calcVals, targetVals;

zVals = {-3.1, -2.3, -1.0, -0.3, 0.1, 4.3, 9.2, 13.7};

calcVals   = poly.hermite(4, zVals); // n = 4
targetVals = {  1.02835360e+03,  2.05825600e+02, -2.00000000e+01,  7.80960000e+00,
                1.15216000e+01,  4.59456160e+03,  1.10572154e+05,  5.54643458e+05};
TS_ASSERT_DELTA(arma::norm(calcVals / targetVals - 1.0), 0.0, 1e-08);

calcVals   = poly.hermite(5, zVals); // n = 5
targetVals = { -4.76676832e+03, -3.88909760e+02,  8.00000000e+00, -3.17577600e+01,
                1.18403200e+01,  3.48375818e+04,  1.98557479e+06,  1.50339793e+07};
TS_ASSERT_DELTA(arma::norm(calcVals / targetVals - 1.0), 0.0, 1e-08);

zVals = {0.1, 0.3, 1.2, 1.8, 2.0, 2.5, 7.1, 11.1};

calcVals   = poly.laguerre(4, 2, zVals); // m = 4, n = 2
targetVals = {  14.405,  13.245,  8.52 ,  5.82 ,  5.,  3.125,  -2.395,  10.005};
TS_ASSERT_DELTA(arma::norm(calcVals / targetVals - 1.0), 0.0, 1e-08);

calcVals   = poly.laguerre(5, 3, zVals); // m = 5, n = 3
targetVals = { 53.23983333,  47.95550000,  27.87200000,  17.5880,
               14.66666667,   8.39583333,  -0.81183333,  10.1015};
TS_ASSERT_DELTA(arma::norm(calcVals / targetVals - 1.0), 0.0, 1e-08);
```
]

---

# IPS-PROD-TP - Weeks #2-#5 - Project description

.mermaid[
    graph LR
    A("Week #1<br/>Initialization") --> B
    B("Week #2<br/>Project") --> C
    C("Week #3<br/>Project") --> D
    D("Week #4<br/>Project") --> E
    E("Week #5<br/>Project") --> F("Week #6<br/>Presentation")
    style B fill:#090
    style C fill:#090
    style D fill:#090
    style E fill:#090
]

.column.middle.grow[
## Summary
During this 6-week long project, the local density of a nuclear system will be calculated and plotted.

.vspace[]

## Nuclear local density
Definition:
`$$\rho(\mathbf{r})\equiv \sum_a \sum_b \rho_{ab}\psi_a(\mathbf{r})\psi^*_b(\mathbf{r})$$`
]

---

# IPS-PROD-TP - Weeks #2-#5 - Project description

.mermaid[
    graph LR
    A("Week #1<br/>Initialization") --> B
    B("Week #2<br/>Project") --> C
    C("Week #3<br/>Project") --> D
    D("Week #4<br/>Project") --> E
    E("Week #5<br/>Project") --> F("Week #6<br/>Presentation")
    style B fill:#090
    style C fill:#090
    style D fill:#090
    style E fill:#090
]


.column.middle.grow[
## Basis functions

They are defined as
`$$
\psi_{m,n,n_z}(r_\perp, \theta, z)
        \equiv
    Z(z, n_z)
    .
    R(r_\perp, m, n)
    .
         e^{im\theta}
$$`

with

`$$
Z(z, n_z)
\equiv
\phi_{n_z}(z)
=
         \frac{1}{\sqrt{b_z}}
         \frac{1}{\sqrt{2^{n_z} \sqrt{\pi}n_z!}}
         e^{-\frac{z^2}{2b_z^2}}H_{n_z}\left(\frac{z}{b_z}\right)
$$`

and
`$$
R(r_\perp, m, n)
         \equiv
         \frac{1}{b_{\perp}\sqrt{\pi}}
         \sqrt{\frac{n!}{(n+|m|)!}}
         e^{-\frac{r_{\perp}^2}{2b_{\perp}^2}}
         \left(\frac{r_{\perp}}{b_{\perp}}\right)^{|m|}
         L_n^{|m|}\left(\frac{r_{\perp}^2}{b_{\perp}^2}\right).
$$`
]

---

# IPS-PROD-TP - Weeks #2-#5 - Project description

.mermaid[
    graph LR
    A("Week #1<br/>Initialization") --> B
    B("Week #2<br/>Project") --> C
    C("Week #3<br/>Project") --> D
    D("Week #4<br/>Project") --> E
    E("Week #5<br/>Project") --> F("Week #6<br/>Presentation")
    style B fill:#090
    style C fill:#090
    style D fill:#090
    style E fill:#090
]


.column.middle.grow[
## Basis quantum numbers

We define
`$$
n_z^\textrm{max}(i) \equiv (N+2).Q^\frac{2}{3}+\frac{1}{2}-i.Q
$$`

and
`$$
m^\textrm{max} \equiv \textrm{sup}\left\{i:n_z^\textrm{max}(i)\ge 1\right\}.
$$`

The quantum numbers are defined as
`$$\begin{eqnarray}
0 &\le m \le& m^\textrm{max}-1\\
0 &\le n \le& \frac{1}{2}(m^\textrm{max}-m-1)\\
0 &\le n_z \le& n_z^\textrm{max}(m+2n)-1.
\end{eqnarray}$$`
]


    </textarea>

    <script src="core/javascript/remark.js"></script>
    <script src="core/javascript/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML&delayStartupUntil=configured" type="text/javascript"></script>
    <script src="core/javascript/emojify.js" type="text/javascript"></script>
    <script src="core/javascript/mermaid.js" type="text/javascript"></script>
    <script src="core/javascript/term.js" type="text/javascript"></script>
    <script src="core/javascript/jquery-2.1.1.min.js" type="text/javascript"></script>
    <script src="core/javascript/extend-jquery.js" type="text/javascript"></script>
    <script src="core/javascript/cinescript.js" type="text/javascript"></script>
    <script src="core/javascript/gitgraph.js" type="text/javascript"></script>
    <script>

    // === Remark.js initialization ===
    var slideshow = remark.create({
      highlightStyle: 'monokai',
      countIncrementalSlides: false,
      highlightLines: false
    });

    // === Mermaid.js initialization ===
    mermaid.initialize({
      startOnLoad: false,
      cloneCssStyles: false,
      flowchart:{
        height: 50
      },
      sequenceDiagram:{
        width: 110,
        height: 30
      }
    });

    function initMermaid(s) {
      var diagrams = document.querySelectorAll('.mermaid');
      var i;
      for(i=0;i<diagrams.length;i++){
        if(diagrams[i].offsetWidth>0){
          mermaid.init(undefined, diagrams[i]);
        }
      }
    }

    slideshow.on('afterShowSlide', initMermaid);
    initMermaid(slideshow.getSlides()[slideshow.getCurrentSlideIndex()]);

    // === MathJax.js initialization ===
    MathJax.Hub.Config({ tex2jax: { skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'] } }); 
    MathJax.Hub.Queue(function() { $(MathJax.Hub.getAllJax()).map(function(index, elem) { return(elem.SourceElement()); }).parent().addClass('has-jax'); });
    MathJax.Hub.Configured();

    // === Emojify.js initialization ===
    emojify.run();

    // === Cinescript initialization ===
    $(document).ready(init_cinescripts);

    </script>
  </body>
</html>

